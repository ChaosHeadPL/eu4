{% extends "layout.html" %}
{% block content %}

<div class="row mb-3">
    <form method="POST" action="" class="form-inline">
        {{ form.hidden_tag() }}
        <div class="input-group">
            {{ form.achieved.label(class="form-control-label") }} {% if form.achieved.errors %} {{ form.achieved(class="form-control form-control-sm is-invalid") }}
            <div class="invalid-feedback">
                {% for error in form.achieved.errors %}
                <span>{{ error }}</span> {% endfor %}
            </div>
            {% else %} {{ form.achieved(class="form-control") }} {% endif %}
        </div>
        <div class="input-group">
            {{ form.difficult.label(class="form-control-label") }} {% if form.difficult.errors %} {{ form.difficult(class="form-control form-control-sm is-invalid") }}
            <div class="invalid-feedback">
                {% for error in form.difficult.errors %}
                <span>{{ error }}</span> {% endfor %}
            </div>
            {% else %} {{ form.difficult(class="form-control") }} {% endif %}
        </div>
        <div class="input-group">
            {{ form.version.label(class="form-control-label") }} {% if form.version.errors %} {{ form.version(class="form-control form-control-sm is-invalid") }}
            <div class="invalid-feedback">
                {% for error in form.version.errors %}
                <span>{{ error }}</span> {% endfor %}
            </div>
            {% else %} {{ form.version(class="form-control") }} {% endif %}
        </div>
        <div class="input-group">
            {{ form.random.label(class="form-control-label") }} {% if form.random.errors %} {{ form.random(class="form-control form-control-sm is-invalid") }}
            <div class="invalid-feedback">
                {% for error in form.random.errors %}
                <span>{{ error }}</span> {% endfor %}
            </div>
            {% else %} {{ form.random(class="form-control") }} {% endif %}
        </div>
        <div class="input-group">
            Count:{{ data|length }}
        </div>
        <div class="input-group">
            {{ form.submit(class="btn btn-outline-info") }}
        </div>
    </form>
</div>
<div class="row">
    <table class="table table-striped table-dark table-hover small">
        <thead>
            <td>ID</td>
            <td>Name</td>
            <td>Starting conditions</td>
            <td>Requirements</td>
            <td>Notes</td>
            <td>Version</td>
            <td>difficulty</td>
            <td>Unlocked</td>
        </thead>
        {% for achiev in data %}
            <tr>
                <td><img src="{{ achiev.image_url }}"></td>
                <td>{{ achiev.title }}</td>
                <td>
                    <ul>
                        {% for cond in achiev.starting_conditions %}
                            <li>{{cond}}</li>
                        {% endfor %}
                    </ul
                ></td>
                <td>
                    <ul>
                        {% for requirement in achiev.requirements %}
                            <li>{{requirement}}</li>
                        {% endfor %}
                    </ul>
                </td>
                <td>{{ achiev.notes }}</td>
                <td>{{ achiev.version }}</td>
                <td>{{ achiev.difficult }}</td>
                <td>{{ achiev.achieved }}</td>
            </tr>
        {% endfor %}
    </table>
</div>
{% endblock content %}